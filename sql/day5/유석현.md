# 31. 집합 연산
- SQL에서는 SELECT 명령의 실행 결과를 하나의 집합으로 다룰 수 있다
- UNION 키워드를 사용한다

```sql
SELECT * FROM sample_1
UNION
SELECT * FROM sample_2
```

- UNION을 이용하면 여러 개의 SELECT 명령을 하나로 묶을 수 있다
- 이때 각각의 SELECT 명령의 열의 내용(열 개수, 자료형)은 서로 일치해야 한다
- 다만 전체 데이터를 반환하는 애스터리스크(\*)를 쓰지 않고, 열을 따로 지정하여 각 SELECT 명령에서 집합의 요소가 될 데이터를 서로 맞춰주면 UNION으로 실행할 수 있는 쿼리가 된다

```sql
SELECT a FROM sample_1
UNION
SELECT b FROM sample_2
UNION
SELECT age FROM sample_3
```

- SELECT 명령들을 UNION으로 묶을 때 나열 순서는 합집합의 결과에 영향을 주지 않는다
- UNION으로 SELECT 명령을 연결하는 경우, 가장 마지막 SELECT 명령에 대해서만 ORDER BY 구를 지정할 수 있다
- 또한 합집합의 결과를 정렬하는 것이기 때문에 SELECT 명령에서 열 이름이 서로 일치한다면 문제가 없겠지만 반드시 그렇다는 보장이 없으므로, 이런 경우 서로 동일하게 별명을 붙여 정렬할 수 있다

```sql
SELECT a AS c FROM sample_1
UNION
SELECT b AS c FROM sample_2 ORDER BY c
```
- UNION은 합집합을 구하는 것이므로 두 개의 집합에서 겹치는 부분은 공통 요소가 된다
- 중복을 제거하지 않고 여러 개의 SELECT 명령의 결과를 그냥 합치고 싶을 경우에는 UNION ALL을 사용하면 된다
- UNION에서는 이미 존재하는 값인지를 검사하는 처리가 필요한 만큼, UNION ALL 쪽이 성능적으로는 유리할 경우가 있다

<hr>
