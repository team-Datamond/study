# 31강 집합 연산

## 1. SQL과 집합

-   SELECT 명령 실행 시 반환된 결과를 하나의 집합이라고 생각하면 된다.

## 2. UNION으로 합집합 구하기

-   두개의 집합에서 겹쳐지는 부분, 합집합을 UNION 키워드로 표현한다.
-   나열 순서는 결과에 영향을 주지 않는다.
-   UNION을 사용할때의 ORDER BY: ORDER BY는 마지막에만 줄 수 있음, 각각 SELECT에 줄 수 없다. 열의 별명을 맞춰준다.
-   UNION ALL: 자동으로 DISTINCT를 지정하므로 UNION ALL을 통해 중복 제거를 막을 수 있다.

```
SELECT * from sample71_a
UNION
SELECT * from sample71_b;
```

## 3. 교집합과 차집합

-   mysql에서는 지원하지 않음
-   교집합은 INTERSECT, 차집합은 EXCEPT

# 32강 테이블 결합

## 1. 곱집합과 교차결합

-   두개의 집합을 곱함, 곱집합
-   교차집합(cross join): SELECT에서 from에 두개의 테이블을 지정하면 곱집합으로 계산된다.
-   UNION 연결과 결합 연결의 차이: UNION은 합집합으로 세로방향으로 FROM 으로 테이블을 결합하면 가로 방향으로 더해진다.

## 2. 내부결합

-   두개의 테이블을 합칠 때 WHERE구를 통해 조건을 넣어주면 곱집합에서 원하는 결과를 얻을 수 있다.

## 3. INNER JOIN으로 내부결합하기

-   FROM 구에 테이블을 복수 지정해 가로 방향으로 테이블을 결합할 수 있다.
-   교차결합을 하면 곱집합으로 계산된디.
-   WHERE 조건을 지정해 곱집합에서 필요한 조합만 검색할 수 있다. => 이를 INNER JOIN 키워드로 가능하다.

## 4. 내부 결합을 활용한 데이터 관리

-   OO코드와 OO명의 조합으로 열을 지정하고 OO코드가 기본키가 되는 패턴이 자주 등장함.
-   SELECT 명령에서 복수의 테이블을 다룰 경우 어느 테이블의 열인지 정확하게 지정해야한다.
-   서로 결합하는 테이블간의 관계가 중요
-   외부키: 다른 테이블의 기본키를 참조하는 열
-   자기 결합(self join): 같은 테이블끼리 결합

## 5. 외부결합

-   어느 한 쪽에만 존재하는 데이터행을 어떻게 다룰지를 변경할 수 있는 결합방법
-   결합하는 테이블 중에 어느 한쪽을 기준으로 할 지 결정 할 수 있다.
-   LEFT JOIN, RIGHT JOIN

# 33강 관계형 모델

## 1. 관계형 모델

-   데이터 구조에 관해 정의
-   릴레이션: 테이블을 의미
-   속성: 이름과 형으로 구성
-   튜플: 행
-   관계대수: 릴레이션은 튜플의 집합이며, 릴레이션에 대한 연산이 집합의 대한 연산에 대응된다.
-   관계대수의 기본규칙
    -   하나 이상의 관계를 바탕으로 연산한다.
    -   연산한 결과, 반환되는 것 또한 관계이다.
    -   연산을 중첩 구조로 실행해도 상관없다.

## 2. 관계형 모델과 SQL

# 34강 데이터베이스 설계

## 1. 데이터베이스 설계

-   스키마 내에 테이블, 인덱스, 뷰 등의 데이터베이스 객체를 정의
-   논리명: 테이블의 설계상 이름
-   물리명: CREATE TABLE에 지정하는 이름
-   논리명과 물리명이 같이 기입된 설계도나 정의서가 있다.
-   큰데이터는 LOB 형으로 저장가능
-   기본키: 테이블내에 유일성 만족

## 2. ER다이어그램

-   개체 간의 관계를 표현
-   사각형은 개체, 상단에 개체 이름 작성, 사각형안에 객체 속성을 표기
-   개체와 개체가 서로 연계되는 경우에는 선으로 이어서 표기
    -   테이블에 저장된 모든 값을 처음부터 차례로 조사
-   이진 탐색: 집합을 반으로 나누어 조사
    -   대량의 데이터 검색 시 용이
-   이진 트리: 고속으로 탐색이 가능하지만 미리 정렬되어 있어야한다.

# 35강 정규화

-   데이터베이스의 테이블을 규정된 올바른 형태로 개선해나가는것

## 1. 정규화

-   단계적으로 실시

## 2. 제1 정규형

-   하나의 셀레 하나의 값만 저장하도록, 반복되는 부분을 세로(행) 방향으로 늘려나가는 것이 제1 정규화의 제1단계이다.
-   중복을 제거하는 테이블의 분할도 이뤄짐, 제 1정규화에서는 테이블 분할과 기본키 지정이 이뤄진다.

## 3. 제2 졍규형

-   데이터가 중복되는 부분을 테이블로 분할 시 기본키에 의해 특정되는 열과 그렇지 않은 열로 나누는것으로 정규화가 이뤄짐
-   부분 함수종속성을 찾아내어 테이블을 분할
-   함수종속성: 키값을 이용해 데이터를 특정지을 수 있는 것

## 4. 제3 정규형

-   기본키 이외의 부분에서 중복이 있는지 조사

## 5. 정규화의 목적

-   정규화로 데이터구조를 개성하는 것은 하나의 데이터가 한 곳에 저장되도록 하기 위함이다.
-   정규화를 통해 테이블에 대한 인덱스의 재구축을 억제할 수 있다.

# 36강 트랜잭션

## 1. 트랜잭션

-

## 2. 롤백과 커밋

-   트랜잭션에서 롤백하면 변경내용이 적용되지않는다.
-   자동커밋: 암묵적으로 자동커밋이 되는데 트랜잭션 시에는 자동커밋을 꺼야한다.
-   START TRANSACTION 으로 트랜잭션 시작
-   트랜잭션 시작 후 변경내용을 저장하는 커밋을 하거나 에러가 있을 시 롤백을 한다.

## 3. 트랜잭션 사용법

-   세트로 사용하고 싶은 SQL명령은 트랜잭션 내에서 실행한다.
