# 25강 데이터베이스 객체

## 1. 데이터베이스 객체

-   테이블이나 뷰, 인덱스 등 데이터베이스 내에 정의하는 모든것
-   실체하는 어떤것
-   명명규칙
    -   중복 X, 예약어 사용 X
    -   숫자로 시작 X
    -   특수기호는 '\_'만 허용
    -   시스템이 허용하는 길이에서 초과 X
    -   의미를 부여할것

## 2. 스키마

-   테이블 안에 열을 정의하고, 스키마 안에는 테이블을 정의할 수 있다. => 네임스페이스

# 26강 테이블 작성, 삭제, 변경

## 1. 테이블 작성

-   CREATE로 작성
-   다음과 같이 사용 => CREATE TABLE 테이블명 (열 정의1, 열 정의2 ... )
-   열 정의 시 열의 이름, 자료형, 기본값 설정(생략가능, 널 허용)

## 2. 테이블 삭제

-   DROP으로 삭제
-   테이블 이름만 지정
-   실수 주의
-   WHERE로 조건 지정하면 데이터 행 삭제

## 3. 테이블 변경

-   ALTER로 열 구성 변경
-   테이블 열에 변경사항이 생길 경우 테이블 삭제 후 새로 생성하게 되면 데이터 유실이 생김, ALTER로 열만 변경 가능
-   열 추가(ADD): 열을 추가하며 기존 데이터 행이 있을 경우 모두 NULL
-   열 속성 변경(MODIFY): 열 속성 변경, 자료형이나 , 기본값, NOT NULL, 제약 등의 속성 변경
    -   처리과정 중 에러 발생 시 실행되지 않음
-   열 이름 변경(CHANGE): 열 이름, 속성 둘 다 변경 가능
-   열 삭제(DROP):열 삭제

## 4. ALTER TABLE로 테이블 관리

-   최대 길이 연장
-   기존 행에 존재하는 데이터의 길이보다 작게 할 수 없다.
-   열 추가

# 27강 제약

## 1. 테이블 작성시 제약 정의

-   열과 테이블에 제약 가능
-   CONSTRAINT 키워드로 제약에 이름을 붙이는 것이 가능하며 관리용이를 위해 이름을 붙여주는 것이 좋다.

## 2. 제약 추가

-   열 제약 추가: ALTER 열 정의 변경가능, 변경 시 기존의 데이터가 제약을 위반하는지 검사해야한다.
-   테이블 제약 추가: ALTER ADD 테이블제약 추가가능

## 3. 제약 삭제

-   DROP으로 열 제약, 테이블 제약, 기본키 제약 삭제 가능

## 4. 기본키

-   기본키로 설정된 열이 중복하는 데이터 값을 가질 수 없다.
-   유일성 제약
-   기본키는 기본적으로 NOT NULL + UNIQUE 의 속성을 가진다.
-   기본키를 여러 열로 지정할 수 있다.

# 28강 인덱스 구조

## 1. 인덱스

-   검색 속도를 향상 시켜준다.
-   테이블과는 별개로 독립된 데이터베이스 객체로 작성된다.

## 2. 검색에 사용하는 알고리즘

-   풀 테이블 스캔: 인덱스가 지정되지 않은 테이블 검색 시 사용
    -   테이블에 저장된 모든 값을 처음부터 차례로 조사
-   이진 탐색: 집합을 반으로 나누어 조사
    -   대량의 데이터 검색 시 용이
-   이진 트리: 고속으로 탐색이 가능하지만 미리 정렬되어 있어야한다.

## 3. 유일성

-   이진 트리는 정렬 없이 불다능하므로 중복 데이터를 등록할 수 없다.

# 29강 인덱스 작성과 삭제

## 1. 인덱스 작성

-   CREATE INDEX 명령으로 작성
-   테이블 이름고 중복 X
-   테이블 크기에 따라 인덱스 작성 시간도 달라진다.

## 2. 인덱스 삭제

-   DROP INDEX 명령으로 삭제

## 3. EXPLAIN

-   SQL 명령을 실제로 실행하지 않고 설명해준다.

## 4. 최적화

-   단순한 답변뿐인 이진 트리는 인덱스의 효율성이 떨어진다.
-   종류가 다양할수록 효율성 상승

# 30강 뷰 작성과 삭제

## 1. 뷰

-   테이블이나 인덱스 등 데이터베이스 안에 정의하는 모든것
-   SELECT 명령으 기록하는 데이터베이스 객체
-   복잡한 SELECT 명령을 간단하게 가능
-   가상 테이블: 뷰는 테이블처럼 실체가 존재하지 않는 가상 테이블이라 불린다.(SELECT 명령 사용 권장)

## 2. 뷰 작성과 삭제

-   데이터베이스 객체이기 때문에 DDL로 작성하거나 삭제
-   뷰의 작성: CREATE VIEW 뷰명 AS SELECT 명령
-   필요에 따라 열 이름을 괄호로 묶어 열명 지정가능
-   뷰 삭제: DROP VIEW 뷰명

## 3. 뷰의 약점

-   뷰는 데이터베이스로 객체로서 저장장치에 저장되지만 테이블과 달리 대량의 저장공간이 필요로 하지 않는다.(CPU 사용)
-   SELECT 명령은 처리 시 계산능력을 필요로 하기때문에 CPU를 사용한다.
-   뷰를 참조할때마다 SELECT 명령 사용
-   뷰를 중첩으로 사용 시 처리 속도가 저하됨
-   머티리얼라이즈드 뷰(Materialized View): 데이터를 일시적으로 저장해 사용하는것이 아니라 테이블처럼 저장장치에 저장해두고 사용한다.
-   뷰에 지정된 테이블의 변경유무를 확인하여 SELECT명령을 재실행한다.
